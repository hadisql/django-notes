{% extends 'main/base.html' %}

{% block title %}Welcome{% endblock %}


{% block body %}

{% if request.user.is_authenticated %}
  <h1 class="flex flex-wrap text-2xl font-semibold leading-relaxed" >Welcome {{request.user|title}},&#20;<span>you have {{count}} note{{count|pluralize}} :</span></h1>
{% endif %}
<br>

<!-- Search bar + Create Note -->
<div class="flex flex-wrap-reverse justify-center space-x-6 mb-6">
  <form class="mt-4 flex-none" method="GET">
    <input class="py-2 px-4 mr-2 border rounded-xl dark:text-black" placeholder="Find a note" type="text" name="search-area" value={{search_input}}>
    <input class="py-2 px-4 text-lg bg-gray-300 hover:bg-gray-400 text-white rounded-xl" type="submit" value="🔍">
  </form>
  <a href="{% url 'note-create' %}" class="mt-4 py-2 px-4 text-lg bg-blue-400 hover:bg-blue-600 text-white rounded-xl" >Create a Note</a>

</div>
<hr class="p-4">
<!-- Notes list -->
<div class="mx-auto w-5/6">
  <h2 class="font-semibold text-lg text-center">Notes</h2>
  <div class="grid py-4">
    {% for note in notes %}
      <div class="p-2 border-b">
        <a class="block text-xs font-thin">{{note.created_time|timesince}} ago</a>
        <a href="{% url 'note-update' note.id %}" class="inline-block font-semibold">{{note.title|title}}</a>
        <p class="text-xs italic">{{ note.note|truncatechars:60|striptags }}</p>
      </div>
    {% endfor %}

  </div>
</div>


{% endblock %}
